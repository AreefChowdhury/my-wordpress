{"version":3,"names":["_components","require","_i18n","_element","_utils","modalDescriptionId","EnhancedPaginationModal","clientId","attributes","enhancedPagination","setAttributes","isOpen","setOpen","useState","hasBlocksFromPlugins","hasPostContentBlock","hasUnsupportedBlocks","useUnsupportedBlocks","useEffect","closeModal","notice","__","_react","createElement","Modal","title","className","aria","describedby","role","focusOnMount","isDismissible","onRequestClose","__experimentalVStack","alignment","spacing","id","Button","variant","onClick"],"sources":["@wordpress/block-library/src/query/edit/enhanced-pagination-modal.js"],"sourcesContent":["/**\n * WordPress dependencies\n */\nimport {\n\tButton,\n\tModal,\n\t__experimentalVStack as VStack,\n} from '@wordpress/components';\nimport { __ } from '@wordpress/i18n';\nimport { useState, useEffect } from '@wordpress/element';\n\n/**\n * Internal dependencies\n */\nimport { useUnsupportedBlocks } from '../utils';\n\nconst modalDescriptionId =\n\t'wp-block-query-enhanced-pagination-modal__description';\n\nexport default function EnhancedPaginationModal( {\n\tclientId,\n\tattributes: { enhancedPagination },\n\tsetAttributes,\n} ) {\n\tconst [ isOpen, setOpen ] = useState( false );\n\tconst { hasBlocksFromPlugins, hasPostContentBlock, hasUnsupportedBlocks } =\n\t\tuseUnsupportedBlocks( clientId );\n\n\tuseEffect( () => {\n\t\tif ( enhancedPagination && hasUnsupportedBlocks ) {\n\t\t\tsetAttributes( { enhancedPagination: false } );\n\t\t\tsetOpen( true );\n\t\t}\n\t}, [ enhancedPagination, hasUnsupportedBlocks, setAttributes ] );\n\n\tconst closeModal = () => {\n\t\tsetOpen( false );\n\t};\n\n\tlet notice = __(\n\t\t'If you still want to prevent full page reloads, remove that block, then disable \"Force page reload\" again in the Query Block settings.'\n\t);\n\tif ( hasBlocksFromPlugins ) {\n\t\tnotice =\n\t\t\t__(\n\t\t\t\t'Currently, avoiding full page reloads is not possible when blocks from plugins are present inside the Query block.'\n\t\t\t) +\n\t\t\t' ' +\n\t\t\tnotice;\n\t} else if ( hasPostContentBlock ) {\n\t\tnotice =\n\t\t\t__(\n\t\t\t\t'Currently, avoiding full page reloads is not possible when a Content block is present inside the Query block.'\n\t\t\t) +\n\t\t\t' ' +\n\t\t\tnotice;\n\t}\n\n\treturn (\n\t\tisOpen && (\n\t\t\t<Modal\n\t\t\t\ttitle={ __( 'Query block: Force page reload enabled' ) }\n\t\t\t\tclassName=\"wp-block-query__enhanced-pagination-modal\"\n\t\t\t\taria={ {\n\t\t\t\t\tdescribedby: modalDescriptionId,\n\t\t\t\t} }\n\t\t\t\trole=\"alertdialog\"\n\t\t\t\tfocusOnMount=\"firstElement\"\n\t\t\t\tisDismissible={ false }\n\t\t\t\tonRequestClose={ closeModal }\n\t\t\t>\n\t\t\t\t<VStack alignment=\"right\" spacing={ 5 }>\n\t\t\t\t\t<span id={ modalDescriptionId }>{ notice }</span>\n\t\t\t\t\t<Button variant=\"primary\" onClick={ closeModal }>\n\t\t\t\t\t\t{ __( 'OK' ) }\n\t\t\t\t\t</Button>\n\t\t\t\t</VStack>\n\t\t\t</Modal>\n\t\t)\n\t);\n}\n"],"mappings":";;;;;;;AAGA,IAAAA,WAAA,GAAAC,OAAA;AAKA,IAAAC,KAAA,GAAAD,OAAA;AACA,IAAAE,QAAA,GAAAF,OAAA;AAKA,IAAAG,MAAA,GAAAH,OAAA;AAdA;AACA;AACA;;AASA;AACA;AACA;;AAGA,MAAMI,kBAAkB,GACvB,uDAAuD;AAEzC,SAASC,uBAAuBA,CAAE;EAChDC,QAAQ;EACRC,UAAU,EAAE;IAAEC;EAAmB,CAAC;EAClCC;AACD,CAAC,EAAG;EACH,MAAM,CAAEC,MAAM,EAAEC,OAAO,CAAE,GAAG,IAAAC,iBAAQ,EAAE,KAAM,CAAC;EAC7C,MAAM;IAAEC,oBAAoB;IAAEC,mBAAmB;IAAEC;EAAqB,CAAC,GACxE,IAAAC,2BAAoB,EAAEV,QAAS,CAAC;EAEjC,IAAAW,kBAAS,EAAE,MAAM;IAChB,IAAKT,kBAAkB,IAAIO,oBAAoB,EAAG;MACjDN,aAAa,CAAE;QAAED,kBAAkB,EAAE;MAAM,CAAE,CAAC;MAC9CG,OAAO,CAAE,IAAK,CAAC;IAChB;EACD,CAAC,EAAE,CAAEH,kBAAkB,EAAEO,oBAAoB,EAAEN,aAAa,CAAG,CAAC;EAEhE,MAAMS,UAAU,GAAGA,CAAA,KAAM;IACxBP,OAAO,CAAE,KAAM,CAAC;EACjB,CAAC;EAED,IAAIQ,MAAM,GAAG,IAAAC,QAAE,EACd,wIACD,CAAC;EACD,IAAKP,oBAAoB,EAAG;IAC3BM,MAAM,GACL,IAAAC,QAAE,EACD,oHACD,CAAC,GACD,GAAG,GACHD,MAAM;EACR,CAAC,MAAM,IAAKL,mBAAmB,EAAG;IACjCK,MAAM,GACL,IAAAC,QAAE,EACD,+GACD,CAAC,GACD,GAAG,GACHD,MAAM;EACR;EAEA,OACCT,MAAM,IACL,IAAAW,MAAA,CAAAC,aAAA,EAACvB,WAAA,CAAAwB,KAAK;IACLC,KAAK,EAAG,IAAAJ,QAAE,EAAE,wCAAyC,CAAG;IACxDK,SAAS,EAAC,2CAA2C;IACrDC,IAAI,EAAG;MACNC,WAAW,EAAEvB;IACd,CAAG;IACHwB,IAAI,EAAC,aAAa;IAClBC,YAAY,EAAC,cAAc;IAC3BC,aAAa,EAAG,KAAO;IACvBC,cAAc,EAAGb;EAAY,GAE7B,IAAAG,MAAA,CAAAC,aAAA,EAACvB,WAAA,CAAAiC,oBAAM;IAACC,SAAS,EAAC,OAAO;IAACC,OAAO,EAAG;EAAG,GACtC,IAAAb,MAAA,CAAAC,aAAA;IAAMa,EAAE,EAAG/B;EAAoB,GAAGe,MAAc,CAAC,EACjD,IAAAE,MAAA,CAAAC,aAAA,EAACvB,WAAA,CAAAqC,MAAM;IAACC,OAAO,EAAC,SAAS;IAACC,OAAO,EAAGpB;EAAY,GAC7C,IAAAE,QAAE,EAAE,IAAK,CACJ,CACD,CACF,CACP;AAEH"}